From c14bd3a20c9bdb6c2793a774f81d83b255458db7 Mon Sep 17 00:00:00 2001
From: Carlos Alberto Lopez Perez <clopez@igalia.com>
Date: Tue, 19 Dec 2017 03:38:36 +0100
Subject: [PATCH 2/6] Revert "gl/pkg-config: add the configured
 platform/api/winsys"

This reverts commit 6d17a4133ba02d290b040012c28b42b9b06d09ce.
---
 configure.ac                             | 3 ---
 pkgconfig/gstreamer-gl-uninstalled.pc.in | 3 ---
 pkgconfig/gstreamer-gl.pc.in             | 3 ---
 pkgconfig/meson.build                    | 3 ---
 4 files changed, 12 deletions(-)

diff --git a/configure.ac b/configure.ac
index fc15bfd8a..5b49fd611 100644
--- a/configure.ac
+++ b/configure.ac
@@ -1328,9 +1328,6 @@ if test "x$GL_APIS" = "x" -o "x$GL_PLATFORMS" = "x" -o "x$GL_WINDOWS" = "x"; the
   HAVE_WINDOW_VIV_FB=no
 fi
 
-AC_SUBST(GL_APIS)
-AC_SUBST(GL_PLATFORMS)
-AC_SUBST(GL_WINDOWS)
 AC_SUBST(GL_LIBS)
 AC_SUBST(GL_CFLAGS)
 AC_SUBST(GL_OBJCFLAGS)
diff --git a/pkgconfig/gstreamer-gl-uninstalled.pc.in b/pkgconfig/gstreamer-gl-uninstalled.pc.in
index b4ae6d306..a21ac4621 100644
--- a/pkgconfig/gstreamer-gl-uninstalled.pc.in
+++ b/pkgconfig/gstreamer-gl-uninstalled.pc.in
@@ -4,9 +4,6 @@ libdir=@gllibdir@
 includedir=@abs_top_builddir@/gst-libs
 girdir=@abs_top_builddir@/gst-libs/gst/base
 typelibdir=@abs_top_builddir@/gst-libs/gst/base
-gl_platforms=@GL_PLATFORMS@
-gl_winsys=@GL_WINDOWS@
-gl_apis=@GL_APIS@
 
 Name: GStreamer OpenGL Plugins Libraries, Uninstalled
 Description: Streaming media framework, OpenGL plugins libraries, uninstalled
diff --git a/pkgconfig/gstreamer-gl.pc.in b/pkgconfig/gstreamer-gl.pc.in
index 8e7a3039d..a3a9dc6cc 100644
--- a/pkgconfig/gstreamer-gl.pc.in
+++ b/pkgconfig/gstreamer-gl.pc.in
@@ -3,9 +3,6 @@ exec_prefix=@exec_prefix@
 libdir=@libdir@
 includedir=@includedir@/gstreamer-@GST_API_VERSION@
 pluginsdir=@libdir@/gstreamer-@GST_API_VERSION@
-gl_platforms=@GL_PLATFORMS@
-gl_winsys=@GL_WINDOWS@
-gl_apis=@GL_APIS@
 
 Name: GStreamer OpenGL Plugins Libraries
 Description: Streaming media framework, OpenGL plugins libraries
diff --git a/pkgconfig/meson.build b/pkgconfig/meson.build
index b2deeac37..b6715cdf0 100644
--- a/pkgconfig/meson.build
+++ b/pkgconfig/meson.build
@@ -37,9 +37,6 @@ pkg_libs = [
 if build_gstgl
   pkgconf.set('gllibdir', join_paths(meson.build_root(), gstgl.outdir()))
   pkg_libs += 'gl'
-  pkgconf.set('GL_APIS', ' '.join(enabled_gl_apis))
-  pkgconf.set('GL_WINDOWS', ' '.join(enabled_gl_winsys))
-  pkgconf.set('GL_PLATFORMS', ' '.join(enabled_gl_platforms))
 endif
 
 if use_wayland
-- 
2.11.0

